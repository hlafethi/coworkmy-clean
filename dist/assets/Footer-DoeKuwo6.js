import{c as b,an as v,r as N,l as _,i as w,j as e,L as t,B as n,X as C}from"./index-BcTi7cvQ.js";import{u as k,S as p}from"./settings-BrsyqbQh.js";import"./client-DVzFwsa0.js";import{u as f}from"./useHomepageSettings-BFOnhw8T.js";import{U as j}from"./user-BZ9CbqlW.js";import{L as y}from"./log-out-BAKYFc7w.js";import{u as z}from"./useLegalPages-B6nlhcOB.js";const S=b("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function T(){return k({queryKey:["app-settings"],queryFn:async()=>{const{data:s,error:l}=await v.from("admin_settings").select("key, value").eq("key","homepage").maybeSingle();if(l)throw console.error("Erreur lors du chargement des param√®tres:",l),l;console.log("üìä Param√®tres r√©cup√©r√©s depuis la DB:",s);const a=(s==null?void 0:s.value)||{};return console.log("‚úÖ Param√®tres trait√©s:",a),{siteName:a.title||"CoworkSpace",contactEmail:a.contact_email||"contact@coworkspace.fr",phoneNumber:a.phone_number||"+33 1 23 45 67 89",heroTitle:a.hero_title||"Votre espace de travail id√©al √† Paris",heroSubtitle:a.hero_subtitle||"Des espaces de coworking modernes et inspirants pour les freelances, entrepreneurs et √©quipes qui veulent travailler dans un environnement stimulant et connect√©.",heroBackgroundImage:a.hero_background_image||null,ctaText:a.cta_text||"Commencer",featuresTitle:a.features_title||"Pourquoi choisir CoWorkMy ?",featuresSubtitle:a.features_subtitle||"Nous offrons bien plus qu'un simple espace de travail. D√©couvrez nos avantages exclusifs qui font de nous le choix id√©al pour les professionnels exigeants.",ctaSectionTitle:a.cta_section_title||"Pr√™t √† rejoindre notre communaut√© ?",ctaSectionSubtitle:a.cta_section_subtitle||"Inscrivez-vous d√®s aujourd'hui et commencez √† profiter de tous les avantages",ctaSecondaryButtonText:a.cta_secondary_button_text||"R√©server une visite",workspace_title:a.workspace_title||"Nos espaces de travail",workspace_subtitle:a.workspace_subtitle||"D√©couvrez nos espaces de coworking et leurs tarifs adapt√©s √† vos besoins"}},staleTime:1e3*30,refetchOnWindowFocus:!0,refetchOnMount:!0})}const P=()=>{const[s,l]=N.useState(!1),{user:a,isAdmin:m,signOut:i}=_(),{data:d}=T(),{settings:o}=f(),x=w(),g=()=>{l(!s)},c=()=>{l(!1)},u=async()=>{await i(),c()},h=[{title:"Accueil",href:"/"},{title:"√Ä propos",href:"/#about"},{title:"Services",href:"/#services"},{title:"Tarifs",href:"/#pricing"},{title:"Contact",href:"/#contact"},{title:"Support",href:"/support"}];return e.jsxs("header",{className:"bg-white py-4 shadow-sm sticky top-0 z-50",children:[e.jsxs("nav",{className:"container-custom flex items-center justify-between",children:[e.jsxs(t,{to:"/",className:"flex items-center gap-3",children:[(o==null?void 0:o.company_logo_url)&&e.jsx("img",{src:o.company_logo_url,alt:o.company_name||"Logo",className:"h-8 w-auto object-contain",onError:r=>{console.error("‚ùå Erreur de chargement du logo dans la navbar"),r.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-primary font-bold text-2xl",children:(o==null?void 0:o.company_name)||(d==null?void 0:d.siteName)||"CoWorkMy"})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsx("ul",{className:"flex space-x-6",children:h.map(r=>e.jsx("li",{children:e.jsx(t,{to:r.href,className:`text-gray-700 hover:text-primary font-medium transition duration-200 ${x.pathname===r.href?"text-primary":""}`,children:r.title})},r.href))}),e.jsx("div",{className:"flex space-x-3",children:a?e.jsxs(e.Fragment,{children:[m&&e.jsx(n,{variant:"outline",className:"flex items-center gap-2",asChild:!0,children:e.jsxs(t,{to:"/admin",children:[e.jsx(p,{size:16}),"Administration"]})}),e.jsx(n,{className:"bg-primary hover:bg-teal-800 flex items-center gap-2",asChild:!0,children:e.jsxs(t,{to:"/dashboard",children:[e.jsx(j,{size:16}),"Mon espace"]})}),e.jsxs(n,{variant:"outline",className:"flex items-center gap-2",onClick:u,children:[e.jsx(y,{size:16}),"D√©connexion"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"outline",asChild:!0,children:e.jsx(t,{to:"/auth/login",children:"Connexion"})}),e.jsx(n,{className:"bg-primary hover:bg-teal-800",asChild:!0,children:e.jsx(t,{to:"/auth/register",children:"Inscription"})})]})})]}),e.jsx("button",{className:"md:hidden text-gray-700 hover:text-primary focus:outline-none",onClick:g,children:s?e.jsx(C,{size:24}):e.jsx(S,{size:24})})]}),s&&e.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white shadow-md z-50 animate-fade-in",children:e.jsxs("ul",{className:"flex flex-col py-4 px-4 space-y-4",children:[h.map(r=>e.jsx("li",{children:e.jsx(t,{to:r.href,className:`text-gray-700 hover:text-primary font-medium block transition duration-200 ${x.pathname===r.href?"text-primary":""}`,onClick:c,children:r.title})},r.href)),e.jsx("li",{className:"pt-2 flex flex-col space-y-3",children:a?e.jsxs(e.Fragment,{children:[m&&e.jsx(n,{variant:"outline",className:"w-full flex items-center justify-center gap-2",asChild:!0,children:e.jsxs(t,{to:"/admin",onClick:c,children:[e.jsx(p,{size:16}),"Administration"]})}),e.jsx(n,{className:"w-full bg-primary hover:bg-teal-800 flex items-center justify-center gap-2",asChild:!0,children:e.jsxs(t,{to:"/dashboard",onClick:c,children:[e.jsx(j,{size:16}),"Mon espace"]})}),e.jsxs(n,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:u,children:[e.jsx(y,{size:16}),"D√©connexion"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"outline",className:"w-full",asChild:!0,children:e.jsx(t,{to:"/auth/login",onClick:c,children:"Connexion"})}),e.jsx(n,{className:"w-full bg-primary hover:bg-teal-800",asChild:!0,children:e.jsx(t,{to:"/auth/register",onClick:c,children:"Inscription"})})]})})]})})]})};function D(){const{settings:s,loading:l}=f(),{pages:a,loading:m}=z();return l?e.jsx("footer",{className:"bg-gray-900 text-white py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"text-center",children:"Chargement..."})})}):e.jsx("footer",{className:"bg-gray-900 text-white py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[(s==null?void 0:s.company_logo_url)&&e.jsx("img",{src:s.company_logo_url,alt:s.company_name||"Logo",className:"h-12 w-auto object-contain",onError:i=>{i.currentTarget.style.display="none"}}),e.jsx("h3",{className:"text-xl font-bold",children:(s==null?void 0:s.company_name)||"Votre Entreprise"}),e.jsx("p",{className:"text-gray-300",children:(s==null?void 0:s.company_description)||"Description de votre entreprise"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Contact"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[(s==null?void 0:s.company_email)&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.company_email]}),(s==null?void 0:s.company_phone)&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"T√©l√©phone:"})," ",s.company_phone]}),(s==null?void 0:s.company_address)&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Adresse:"}),e.jsx("br",{}),e.jsx("span",{className:"whitespace-pre-line",children:s.company_address})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Informations"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[(s==null?void 0:s.company_website)&&e.jsx("p",{children:e.jsx("a",{href:s.company_website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:s.company_website})}),(s==null?void 0:s.company_siret)&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"SIRET:"})," ",s.company_siret]}),(s==null?void 0:s.company_vat_number)&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"TVA:"})," ",s.company_vat_number]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Pages l√©gales"}),e.jsx("div",{className:"space-y-2 text-gray-300",children:!m&&a&&a.length>0?a.filter(i=>i.is_active).map(i=>e.jsx("p",{children:e.jsx(t,{to:`/legal/${i.type}`,className:"text-blue-400 hover:text-blue-300 transition-colors",children:i.title})},i.id)):e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsx(t,{to:"/legal/legal",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Mentions l√©gales"})}),e.jsx("p",{children:e.jsx(t,{to:"/legal/terms",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Conditions g√©n√©rales"})}),e.jsx("p",{children:e.jsx(t,{to:"/legal/privacy",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Politique de confidentialit√©"})})]})})]})]}),e.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:e.jsxs("p",{children:["¬© 2024 ",(s==null?void 0:s.company_name)||"Votre Entreprise",". Tous droits r√©serv√©s."]})})]})})}export{D as F,P as N};
